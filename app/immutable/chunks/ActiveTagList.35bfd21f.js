import{s as H,f as S,X as G,g as T,h as D,Y as J,d as p,j as d,r as A,i as $,v as k,u as P,H as Q,O as R,D as z,F as V,a as L,e as B,c as M,I as W}from"./scheduler.d22bc004.js";import{S as N,i as U,b,d as v,m as y,a as h,t as g,e as w,g as C,c as E}from"./index.c60e7740.js";import{e as j}from"./each.e59479a4.js";import{D as X}from"./DetailedTag.423ea64b.js";import{f as Z,s as x,g as ee}from"./search-builder.9b713100.js";import{a as te}from"./active-tags-store.c00d78fb.js";import{f as ne}from"./feature-support.8f9b3d5f.js";function re(r){let e,n;return{c(){e=S("h1"),n=new G(!1),this.h()},l(t){e=T(t,"H1",{class:!0});var a=D(e);n=J(a,!1),a.forEach(p),this.h()},h(){n.a=null,d(e,"class",A(r[1])+" svelte-1qonanu")},m(t,a){$(t,e,a),n.m(r[0],e)},p:k,i:k,o:k,d(t){t&&p(e)}}}function le(r){const e=new Date,n=s=>{const l=`${s.getDate()}-${s.getMonth()}`;return l==="24-12"||l==="25-12"?"kurðŸŽ…search":"kurosearch"},t=s=>s.getMonth()===5?"pride":"default",a=n(e),o=t(e);return[a,o]}class ye extends N{constructor(e){super(),U(this,e,le,re,H,{})}}function ae(r){let e,n,t,a,o;return{c(){e=S("button"),n=S("i"),this.h()},l(s){e=T(s,"BUTTON",{type:!0,title:!0,class:!0});var l=D(e);n=T(l,"I",{class:!0}),D(n).forEach(p),l.forEach(p),this.h()},h(){d(n,"class",t=A(r[1])+" svelte-zworfu"),d(e,"type","button"),d(e,"title",r[0]),d(e,"class","svelte-zworfu")},m(s,l){$(s,e,l),P(e,n),a||(o=Q(e,"click",r[2]),a=!0)},p(s,[l]){l&2&&t!==(t=A(s[1])+" svelte-zworfu")&&d(n,"class",t),l&1&&d(e,"title",s[0])},i:k,o:k,d(s){s&&p(e),a=!1,o()}}}function oe(r,e,n){let{title:t}=e,{icon:a}=e;function o(s){R.call(this,r,s)}return r.$$set=s=>{"title"in s&&n(0,t=s.title),"icon"in s&&n(1,a=s.icon)},[t,a,o]}class Y extends N{constructor(e){super(),U(this,e,oe,ae,H,{title:0,icon:1})}}function se(r){let e,n;return e=new Y({props:{title:"Share current search.",icon:"codicon codicon-copy"}}),e.$on("click",r[0]),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:k,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function ie(r,e,n){let t,a,o;return z(r,Z,l=>n(1,t=l)),z(r,x,l=>n(2,a=l)),z(r,te,l=>n(3,o=l)),[async()=>{const l={title:"kurosearch",text:"Saved Search Configuration",url:ee(o,a,t).toString()};try{await navigator.share(l)}catch{}}]}class ce extends N{constructor(e){super(),U(this,e,ie,se,H,{})}}function q(r,e,n){const t=r.slice();return t[7]=e[n],t}function F(r){let e,n,t=ne(),a,o,s=j(r[0]),l=[];for(let i=0;i<s.length;i+=1)l[i]=I(q(r,s,i));const _=i=>g(l[i],1,1,()=>{l[i]=null});let c=r[0].length>1&&O(r),u=t&&_e();return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=L(),c&&c.c(),n=L(),u&&u.c(),a=B()},l(i){for(let f=0;f<l.length;f+=1)l[f].l(i);e=M(i),c&&c.l(i),n=M(i),u&&u.l(i),a=B()},m(i,f){for(let m=0;m<l.length;m+=1)l[m]&&l[m].m(i,f);$(i,e,f),c&&c.m(i,f),$(i,n,f),u&&u.m(i,f),$(i,a,f),o=!0},p(i,f){if(f&3){s=j(i[0]);let m;for(m=0;m<s.length;m+=1){const K=q(i,s,m);l[m]?(l[m].p(K,f),h(l[m],1)):(l[m]=I(K),l[m].c(),h(l[m],1),l[m].m(e.parentNode,e))}for(C(),m=s.length;m<l.length;m+=1)_(m);E()}i[0].length>1?c?(c.p(i,f),f&1&&h(c,1)):(c=O(i),c.c(),h(c,1),c.m(n.parentNode,n)):c&&(C(),g(c,1,1,()=>{c=null}),E())},i(i){if(!o){for(let f=0;f<s.length;f+=1)h(l[f]);h(c),h(u),o=!0}},o(i){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)g(l[f]);g(c),g(u),o=!1},d(i){i&&(p(e),p(n),p(a)),W(l,i),c&&c.d(i),u&&u.d(i)}}}function ue(r){let e,n;function t(){return r[4](r[7])}function a(){return r[5](r[7])}return e=new X({props:{tag:r[7],active:!0}}),e.$on("click",t),e.$on("contextmenu",a),{c(){b(e.$$.fragment)},l(o){v(e.$$.fragment,o)},m(o,s){y(e,o,s),n=!0},p(o,s){r=o;const l={};s&1&&(l.tag=r[7]),e.$set(l)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){w(e,o)}}}function fe(r){let e,n;function t(){return r[2](r[7])}function a(){return r[3](r[7])}return e=new X({props:{tag:{name:r[7].name,type:"supertag",modifier:"+",count:r[7].tags.length},active:!0}}),e.$on("click",t),e.$on("contextmenu",a),{c(){b(e.$$.fragment)},l(o){v(e.$$.fragment,o)},m(o,s){y(e,o,s),n=!0},p(o,s){r=o;const l={};s&1&&(l.tag={name:r[7].name,type:"supertag",modifier:"+",count:r[7].tags.length}),e.$set(l)},i(o){n||(h(e.$$.fragment,o),n=!0)},o(o){g(e.$$.fragment,o),n=!1},d(o){w(e,o)}}}function I(r){let e,n,t,a;const o=[fe,ue],s=[];function l(_,c){return"description"in _[7]?0:1}return e=l(r),n=s[e]=o[e](r),{c(){n.c(),t=B()},l(_){n.l(_),t=B()},m(_,c){s[e].m(_,c),$(_,t,c),a=!0},p(_,c){let u=e;e=l(_),e===u?s[e].p(_,c):(C(),g(s[u],1,1,()=>{s[u]=null}),E(),n=s[e],n?n.p(_,c):(n=s[e]=o[e](_),n.c()),h(n,1),n.m(t.parentNode,t))},i(_){a||(h(n),a=!0)},o(_){g(n),a=!1},d(_){_&&p(t),s[e].d(_)}}}function O(r){let e,n;return e=new Y({props:{icon:"codicon codicon-star-full",title:"Create a supertag from the current selection."}}),e.$on("click",r[6]),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},p:k,i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function _e(r){let e,n;return e=new ce({}),{c(){b(e.$$.fragment)},l(t){v(e.$$.fragment,t)},m(t,a){y(e,t,a),n=!0},i(t){n||(h(e.$$.fragment,t),n=!0)},o(t){g(e.$$.fragment,t),n=!1},d(t){w(e,t)}}}function me(r){let e,n,t=r[0].length>0&&F(r);return{c(){e=S("ul"),t&&t.c(),this.h()},l(a){e=T(a,"UL",{class:!0});var o=D(e);t&&t.l(o),o.forEach(p),this.h()},h(){d(e,"class","svelte-11k0uwj")},m(a,o){$(a,e,o),t&&t.m(e,null),n=!0},p(a,[o]){a[0].length>0?t?(t.p(a,o),o&1&&h(t,1)):(t=F(a),t.c(),h(t,1),t.m(e,null)):t&&(C(),g(t,1,1,()=>{t=null}),E())},i(a){n||(h(t),n=!0)},o(a){g(t),n=!1},d(a){a&&p(e),t&&t.d()}}}function he(r,e,n){const t=V();let{tags:a}=e;const o=u=>t("click",u),s=u=>t("contextmenu",u),l=u=>t("click",u),_=u=>t("contextmenu",u),c=()=>t("createSupertag",a);return r.$$set=u=>{"tags"in u&&n(0,a=u.tags)},[a,t,o,s,l,_,c]}class we extends N{constructor(e){super(),U(this,e,he,me,H,{tags:0})}}export{we as A,ye as K};
