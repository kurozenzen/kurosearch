import{R as i,A as l}from"./user-id-store.83f6419e.js";const p=async(e=void 0,r="",o="")=>{if(typeof e!="number"&&e!==void 0)throw new TypeError("Invalid postId");let t;o&&r?t=new URL(`${i}&s=comment&q=index&json=1&api_key=${r}&user_id=${o}`):t=new URL(`${l}/comments`),e!==void 0&&t.searchParams.append("post_id",String(e));const n=await fetch(t);if(!n.ok)throw new Error("Failed to get tag suggestions");const s=await n.text(),m=new DOMParser().parseFromString(s,"text/xml"),a=[];for(const c of m.getElementsByTagName("comment"))a.push(u(c.attributes));return a},u=e=>{const r=e.getNamedItem("creator"),o=e.getNamedItem("created_at"),t=e.getNamedItem("body");if(r==null||o==null||t==null)throw new Error(`Failed to parse comment, attribute was null. ${r}, ${o}, ${t}`);return{author:r.value,createdAt:o.value,content:t.value}};export{p as g};
