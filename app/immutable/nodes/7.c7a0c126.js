import{s as ye,f as g,a as p,z as we,g as h,d as _,c as $,h as F,j as d,u as c,i as C,A as Pe,e as de,v as N,l as Ee,y as L,m as Se}from"../chunks/scheduler.51196a30.js";import{h as Ae,u as xe}from"../chunks/await_block.dd2b1fe4.js";import{S as Ne,i as Te,a as v,t as k,b as P,d as E,m as S,e as A}from"../chunks/index.456a70cf.js";import{R as Le,S as Ve,a as je,P as Ie,E as ke,b as Re,C as Me,G as De,V as He,e as ve,h as Ue,g as Ge}from"../chunks/PreviewedImage.973ae265.js";import{L as qe}from"../chunks/LoadingAnimation.5056bbea.js";import{g as ze}from"../chunks/posts.74372ef5.js";import{a as Oe}from"../chunks/always-loop-store.47cb4d03.js";function Be(s){const t=s.slice(),a=Ge(t[5].file_url,t[5].sample_url,t[5].preview_url);t[6]=a;const e=t[6].animated;t[7]=e;const n=t[6].static;return t[8]=n,t}function Fe(s){let t,a,e,n,r,l,i,u;return{c(){t=g("meta"),a=p(),e=g("meta"),n=p(),r=g("meta"),i=p(),u=g("meta"),this.h()},l(f){t=h(f,"META",{property:!0,content:!0}),a=$(f),e=h(f,"META",{property:!0,content:!0}),n=$(f),r=h(f,"META",{property:!0,content:!0}),i=$(f),u=h(f,"META",{property:!0,content:!0}),this.h()},h(){d(t,"property","og:image"),d(t,"content",s[3]),d(e,"property","og:image:secure_url"),d(e,"content",s[3]),d(r,"property","og:image:type"),d(r,"content",l="image/"+s[0]),d(u,"property","og:image:alt"),d(u,"content","Post "+s[2])},m(f,y){C(f,t,y),C(f,a,y),C(f,e,y),C(f,n,y),C(f,r,y),C(f,i,y),C(f,u,y)},p(f,y){y&1&&l!==(l="image/"+f[0])&&d(r,"content",l)},d(f){f&&(_(t),_(a),_(e),_(n),_(r),_(i),_(u))}}}function Je(s){let t,a,e={ctx:s,current:null,token:null,hasCatch:!1,pending:et,then:Qe,catch:Ke,value:5,blocks:[,,,]};return Ae(ze(s[2]),e),{c(){t=de(),e.block.c()},l(n){t=de(),e.block.l(n)},m(n,r){C(n,t,r),e.block.m(n,e.anchor=r),e.mount=()=>t.parentNode,e.anchor=t,a=!0},p(n,r){s=n,xe(e,s,r)},i(n){a||(v(e.block),a=!0)},o(n){for(let r=0;r<3;r+=1){const l=e.blocks[r];k(l)}a=!1},d(n){n&&_(t),e.block.d(n),e.token=null,e=null}}}function Ke(s){return{c:N,l:N,m:N,p:N,i:N,o:N,d:N}}function Qe(s){let t,a,e,n,r,l,i,u,f="•",y,B,fe=s[5].type.toUpperCase()+"",K,Q,q,ce="•",W,V,X,z,ue="•",Y,j,Z,I,me="Tags",ee,R,te,M,pe="Links",ne,w,D,re,O,$e="•",ae,H,se,le,U,_e="Comments",oe,G,J;const be=[Ye,Xe,We],ie=[];function Ce(o,m){return o[5].type==="image"?0:o[5].type==="video"?1:2}function ge(o,m){return m===1?Be(o):o}t=Ce(s),a=ie[t]=be[t](ge(s,t)),l=new Le({props:{value:s[5].rating}}),V=new Ve({props:{value:s[5].score}}),j=new je({props:{value:s[5].change}}),R=new Ie({props:{tags:s[5].tags}}),D=new ke({props:{source:"https://rule34.xxx/index.php?page=post&s=view&id="+s[5].id}}),H=new Re({props:{url:s[5].file_url}});let x=s[5].source&&Ze(s);return G=new Me({props:{post:s[5]}}),{c(){a.c(),e=p(),n=g("section"),r=g("div"),P(l.$$.fragment),i=p(),u=g("span"),u.textContent=f,y=p(),B=g("span"),K=Ee(fe),Q=p(),q=g("span"),q.textContent=ce,W=p(),P(V.$$.fragment),X=p(),z=g("span"),z.textContent=ue,Y=p(),P(j.$$.fragment),Z=p(),I=g("h3"),I.textContent=me,ee=p(),P(R.$$.fragment),te=p(),M=g("h3"),M.textContent=pe,ne=p(),w=g("div"),P(D.$$.fragment),re=p(),O=g("span"),O.textContent=$e,ae=p(),P(H.$$.fragment),se=p(),x&&x.c(),le=p(),U=g("h3"),U.textContent=_e,oe=p(),P(G.$$.fragment),this.h()},l(o){a.l(o),e=$(o),n=h(o,"SECTION",{class:!0});var m=F(n);r=h(m,"DIV",{class:!0});var b=F(r);E(l.$$.fragment,b),i=$(b),u=h(b,"SPAN",{"data-svelte-h":!0}),L(u)!=="svelte-7hh8jk"&&(u.textContent=f),y=$(b),B=h(b,"SPAN",{});var he=F(B);K=Se(he,fe),he.forEach(_),Q=$(b),q=h(b,"SPAN",{"data-svelte-h":!0}),L(q)!=="svelte-7hh8jk"&&(q.textContent=ce),W=$(b),E(V.$$.fragment,b),X=$(b),z=h(b,"SPAN",{"data-svelte-h":!0}),L(z)!=="svelte-7hh8jk"&&(z.textContent=ue),Y=$(b),E(j.$$.fragment,b),b.forEach(_),Z=$(m),I=h(m,"H3",{class:!0,"data-svelte-h":!0}),L(I)!=="svelte-1nl40cx"&&(I.textContent=me),ee=$(m),E(R.$$.fragment,m),te=$(m),M=h(m,"H3",{class:!0,"data-svelte-h":!0}),L(M)!=="svelte-9cef25"&&(M.textContent=pe),ne=$(m),w=h(m,"DIV",{class:!0});var T=F(w);E(D.$$.fragment,T),re=$(T),O=h(T,"SPAN",{"data-svelte-h":!0}),L(O)!=="svelte-7hh8jk"&&(O.textContent=$e),ae=$(T),E(H.$$.fragment,T),se=$(T),x&&x.l(T),T.forEach(_),le=$(m),U=h(m,"H3",{class:!0,"data-svelte-h":!0}),L(U)!=="svelte-kc6sae"&&(U.textContent=_e),oe=$(m),E(G.$$.fragment,m),m.forEach(_),this.h()},h(){d(r,"class","flex-row svelte-1fsyhc7"),d(I,"class","svelte-1fsyhc7"),d(M,"class","svelte-1fsyhc7"),d(w,"class","flex-row svelte-1fsyhc7"),d(U,"class","svelte-1fsyhc7"),d(n,"class","svelte-1fsyhc7")},m(o,m){ie[t].m(o,m),C(o,e,m),C(o,n,m),c(n,r),S(l,r,null),c(r,i),c(r,u),c(r,y),c(r,B),c(B,K),c(r,Q),c(r,q),c(r,W),S(V,r,null),c(r,X),c(r,z),c(r,Y),S(j,r,null),c(n,Z),c(n,I),c(n,ee),S(R,n,null),c(n,te),c(n,M),c(n,ne),c(n,w),S(D,w,null),c(w,re),c(w,O),c(w,ae),S(H,w,null),c(w,se),x&&x.m(w,null),c(n,le),c(n,U),c(n,oe),S(G,n,null),J=!0},p(o,m){a.p(ge(o,t),m),o[5].source&&x.p(o,m)},i(o){J||(v(a),v(l.$$.fragment,o),v(V.$$.fragment,o),v(j.$$.fragment,o),v(R.$$.fragment,o),v(D.$$.fragment,o),v(H.$$.fragment,o),v(x),v(G.$$.fragment,o),J=!0)},o(o){k(a),k(l.$$.fragment,o),k(V.$$.fragment,o),k(j.$$.fragment,o),k(R.$$.fragment,o),k(D.$$.fragment,o),k(H.$$.fragment,o),k(x),k(G.$$.fragment,o),J=!1},d(o){o&&(_(e),_(n)),ie[t].d(o),A(l),A(V),A(j),A(R),A(D),A(H),x&&x.d(),A(G)}}}function We(s){let t,a;return t=new De({props:{post:s[5]}}),{c(){P(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){S(t,e,n),a=!0},p:N,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function Xe(s){let t,a;return t=new He({props:{src:s[7],poster:s[8],width:s[5].width,height:s[5].height,loop:s[1]||ve(s[5].tags)}}),{c(){P(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){S(t,e,n),a=!0},p(e,n){const r={};n&2&&(r.loop=e[1]||ve(e[5].tags)),t.$set(r)},i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function Ye(s){let t,a;return t=new Ue({props:{post:s[5]}}),{c(){P(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){S(t,e,n),a=!0},p:N,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function Ze(s){let t,a="•",e,n,r;return n=new ke({props:{source:s[5].source}}),{c(){t=g("span"),t.textContent=a,e=p(),P(n.$$.fragment)},l(l){t=h(l,"SPAN",{"data-svelte-h":!0}),L(t)!=="svelte-7hh8jk"&&(t.textContent=a),e=$(l),E(n.$$.fragment,l)},m(l,i){C(l,t,i),C(l,e,i),S(n,l,i),r=!0},p:N,i(l){r||(v(n.$$.fragment,l),r=!0)},o(l){k(n.$$.fragment,l),r=!1},d(l){l&&(_(t),_(e)),A(n,l)}}}function et(s){let t,a;return t=new qe({}),{c(){P(t.$$.fragment)},l(e){E(t.$$.fragment,e)},m(e,n){S(t,e,n),a=!0},p:N,i(e){a||(v(t.$$.fragment,e),a=!0)},o(e){k(t.$$.fragment,e),a=!1},d(e){A(t,e)}}}function tt(s){let t,a,e,n,r=s[3]&&Fe(s),l=s[2]&&Je(s);return{c(){r&&r.c(),t=g("meta"),a=p(),e=g("div"),l&&l.c(),this.h()},l(i){const u=we("svelte-115ra39",document.head);r&&r.l(u),t=h(u,"META",{name:!0,content:!0}),u.forEach(_),a=$(i),e=h(i,"DIV",{class:!0});var f=F(e);l&&l.l(f),f.forEach(_),this.h()},h(){document.title="kurosearch - Post",d(t,"name","description"),d(t,"content","View a single post."),d(e,"class","svelte-1fsyhc7")},m(i,u){r&&r.m(document.head,null),c(document.head,t),C(i,a,u),C(i,e,u),l&&l.m(e,null),n=!0},p(i,[u]){i[3]&&r.p(i,u),i[2]&&l.p(i,u)},i(i){n||(v(l),n=!0)},o(i){k(l),n=!1},d(i){i&&(_(a),_(e)),r&&r.d(i),_(t),l&&l.d()}}}function nt(s,t,a){var u;let e,n;Pe(s,Oe,f=>a(1,n=f));const r=new URL(location.href),l=r&&r.searchParams.has("id")?Number(r.searchParams.get("id")):void 0,i=r&&r.searchParams.get("src");return a(0,e=decodeURIComponent(((u=i==null?void 0:i.split("."))==null?void 0:u.at(-1))??"")),[e,n,l,i]}class ct extends Ne{constructor(t){super(),Te(this,t,nt,tt,ye,{})}}export{ct as component};
