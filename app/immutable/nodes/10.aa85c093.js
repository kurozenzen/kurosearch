import{s as T,y as o}from"../chunks/scheduler.41e0bfa2.js";import{S as U,i as k}from"../chunks/index.e3f19884.js";import{a as p}from"../chunks/active-tags-store.896aa6fe.js";import{s as m,f as u,p as B,S as I}from"../chunks/url-parsing.e89d4ab7.js";import{r as y,a as K}from"../chunks/blocking-group-data.30d9061c.js";import{b as _}from"../chunks/blocked-content-store.101e0b86.js";import{u as x,a as A}from"../chunks/user-id-store.83f6419e.js";function R(e,l,r){let h,s,i,g,S,n,c;o(e,K,t=>r(0,h=t)),o(e,u,t=>r(1,s=t)),o(e,m,t=>r(2,i=t)),o(e,_,t=>r(3,g=t)),o(e,p,t=>r(4,S=t)),o(e,x,t=>r(5,n=t)),o(e,A,t=>r(6,c=t));const P=async()=>{p.reset(),m.reset(),u.reset();let t=!1;const{tags:a,sort:w,filter:f}=B(new URL(location.href).searchParams);return a&&a.length>0&&(await Promise.all(a.map(async d=>await p.addByName(d.name,d.modifier,c,n))),t=!0),w&&(m.update(w),t=!0),f&&(u.update(f),t=!0),t},C=async()=>{try{y.reset();const[t,a]=await new I().withApiKey(c).withUserId(n).withPid(0).withTags(S).withBlockedContent(g).withSortProperty(i.property).withSortDirection(i.direction).withScoreValue(s.scoreValue).withScoreComparator(s.scoreComparator).withRating(s.rating).withSupertags(h).getPageAndCount();y.addPage(t,a)}catch(t){console.warn(t)}},b=()=>{location.href="/"};return P().then(()=>C()).then(()=>b()),[]}class z extends U{constructor(l){super(),k(this,l,R,null,T,{})}}export{z as component};
