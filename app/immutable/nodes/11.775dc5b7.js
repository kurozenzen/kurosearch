import{s as A,f as g,a as w,e as d,x as E,g as k,d as m,c as y,j as x,u as v,i as f,y as L,v as c,l as M,h as N,m as O}from"../chunks/scheduler.19d3c358.js";import{h as R,u as j}from"../chunks/await_block.6b55c79b.js";import{g as D}from"../chunks/globals.7f7f1b26.js";import{S as F,i as H,a as h,t as b,b as S,d as C,m as T,e as P}from"../chunks/index.2b8f9697.js";import{S as J}from"../chunks/Searchbar.6ec40899.js";import{L as U}from"../chunks/LoadingAnimation.54d99227.js";import{g as z}from"../chunks/tags.49324235.js";const{document:_}=D;function B(l){let n,o="Tags",e,t,a;return t=new J({props:{placeholder:"Search for a tag...",fetchSuggestions:z}}),t.$on("pick",l[2]),{c(){n=g("h1"),n.textContent=o,e=w(),S(t.$$.fragment)},l(r){n=k(r,"H1",{"data-svelte-h":!0}),L(n)!=="svelte-6btv9t"&&(n.textContent=o),e=y(r),C(t.$$.fragment,r)},m(r,i){f(r,n,i),f(r,e,i),T(t,r,i),a=!0},p:c,i(r){a||(h(t.$$.fragment,r),a=!0)},o(r){b(t.$$.fragment,r),a=!1},d(r){r&&(m(n),m(e)),P(t,r)}}}function G(l){let n,o,e={ctx:l,current:null,token:null,hasCatch:!1,pending:Q,then:K,catch:I,value:3,blocks:[,,,]};return R(l[1](l[0]),e),{c(){n=d(),e.block.c()},l(t){n=d(),e.block.l(t)},m(t,a){f(t,n,a),e.block.m(t,e.anchor=a),e.mount=()=>n.parentNode,e.anchor=n,o=!0},p(t,a){l=t,j(e,l,a)},i(t){o||(h(e.block),o=!0)},o(t){for(let a=0;a<3;a+=1){const r=e.blocks[a];b(r)}o=!1},d(t){t&&m(n),e.block.d(t),e.token=null,e=null}}}function I(l){return{c,l:c,m:c,p:c,i:c,o:c,d:c}}function K(l){let n,o=l[3]+"",e;return{c(){n=g("p"),e=M(o)},l(t){n=k(t,"P",{});var a=N(n);e=O(a,o),a.forEach(m)},m(t,a){f(t,n,a),v(n,e)},p:c,i:c,o:c,d(t){t&&m(n)}}}function Q(l){let n,o;return n=new U({}),{c(){S(n.$$.fragment)},l(e){C(n.$$.fragment,e)},m(e,t){T(n,e,t),o=!0},p:c,i(e){o||(h(n.$$.fragment,e),o=!0)},o(e){b(n.$$.fragment,e),o=!1},d(e){P(n,e)}}}function V(l){let n,o,e,t,a,r,i;_.title=n=l[0]+" - kurosearch";const $=[G,B],p=[];function q(s,u){return s[0]?0:1}return t=q(l),a=p[t]=$[t](l),{c(){o=g("meta"),e=w(),a.c(),r=d(),this.h()},l(s){const u=E("svelte-19q487y",_.head);o=k(u,"META",{name:!0,content:!0}),u.forEach(m),e=y(s),a.l(s),r=d(),this.h()},h(){x(o,"name","description"),x(o,"content","Simple and powerful Rule34 browsing site with a focus on simplicity and user experience.")},m(s,u){v(_.head,o),f(s,e,u),p[t].m(s,u),f(s,r,u),i=!0},p(s,[u]){(!i||u&1)&&n!==(n=s[0]+" - kurosearch")&&(_.title=n),a.p(s,u)},i(s){i||(h(a),i=!0)},o(s){b(a),i=!1},d(s){s&&(m(e),m(r)),m(o),p[t].d(s)}}}function W(l){return[new URL(document.location.href).searchParams.get("name"),async t=>{const r=await(await fetch(`https://rule34.xxx/index.php?page=tags&s=list&tags=${t}&sort=asc&order_by=index_count`)).text(),p=new DOMParser().parseFromString(r,"text/xml").querySelectorAll("#content tr td").values();return JSON.stringify(p)},t=>{window.location.href="/tag?name="+t.detail.label}]}class oe extends F{constructor(n){super(),H(this,n,W,V,A,{})}}export{oe as component};
