import{s as ue,f as _,a as C,l as S,w as fe,g,d as i,c as w,h as O,x as te,m as T,j as $,F as me,u as c,i as v,o as $e,n as ie,v as p}from"../chunks/scheduler.41e0bfa2.js";import{h as oe,u as pe}from"../chunks/await_block.421e30a4.js";import{S as he,i as de,b as V,d as q,m as D,a as H,t as z,e as F}from"../chunks/index.e3f19884.js";import{v as re}from"../chunks/environment.f38a08bf.js";import{b as ee}from"../chunks/paths.7da8d914.js";import{H as _e,a as le}from"../chunks/Heading3.9d1c4e59.js";import{I as ce}from"../chunks/IconLink.ee517030.js";import{T as ge}from"../chunks/TextButton.a7c32e3b.js";function ve(s){let e;return{c(){e=S("About")},l(n){e=T(n,"About")},m(n,t){v(n,e,t)},d(n){n&&i(e)}}}function ke(s){let e;return{c(){e=S("Version")},l(n){e=T(n,"Version")},m(n,t){v(n,e,t)},d(n){n&&i(e)}}}function be(s){return{c:p,l:p,m:p,p,d:p}}function Ce(s){var l,x;let e,n=((x=(l=s[3])==null?void 0:l.sha)==null?void 0:x.substring(0,7))+"",t;return{c(){e=S(", Newest is: "),t=S(n)},l(o){e=T(o,", Newest is: "),t=T(o,n)},m(o,h){v(o,e,h),v(o,t,h)},p(o,h){var f,d;h&2&&n!==(n=((d=(f=o[3])==null?void 0:f.sha)==null?void 0:d.substring(0,7))+"")&&ie(t,n)},d(o){o&&(i(e),i(t))}}}function we(s){return{c:p,l:p,m:p,p,d:p}}function xe(s){let e;return{c(){e=S(s[0])},l(n){e=T(n,s[0])},m(n,t){v(n,e,t)},p(n,t){t&1&&ie(e,n[0])},d(n){n&&i(e)}}}function Ie(s){let e;return{c(){e=S("More Info")},l(n){e=T(n,"More Info")},m(n,t){v(n,e,t)},d(n){n&&i(e)}}}function je(s){let e,n="Debug Information";return{c(){e=_("p"),e.textContent=n,this.h()},l(t){e=g(t,"P",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1flnq1l"&&(e.textContent=n),this.h()},h(){$(e,"class","svelte-1jsrvde")},m(t,l){v(t,e,l)},p,d(t){t&&i(e)}}}function Ee(s){let e,n="Rule34.xxx URL Comparison";return{c(){e=_("p"),e.textContent=n,this.h()},l(t){e=g(t,"P",{class:!0,"data-svelte-h":!0}),te(e)!=="svelte-1x54zdn"&&(e.textContent=n),this.h()},h(){$(e,"class","svelte-1jsrvde")},m(t,l){v(t,e,l)},p,d(t){t&&i(e)}}}function Ne(s){let e,n,t,l,x,o,h,f,d,ne,G,A,se="kurosearch",J,I,K,Q,W,X,U,k,Y,j,Z,E,N,y,P,B;l=new _e({props:{$$slots:{default:[ve]},$$scope:{ctx:s}}}),o=new le({props:{$$slots:{default:[ke]},$$scope:{ctx:s}}});let m={ctx:s,current:null,token:null,hasCatch:!1,pending:we,then:Ce,catch:be,value:3};return oe(W=s[1],m),k=new ge({props:{title:"Force an update of the app",$$slots:{default:[xe]},$$scope:{ctx:s}}}),k.$on("click",s[2]),j=new le({props:{$$slots:{default:[Ie]},$$scope:{ctx:s}}}),N=new ce({props:{title:"Debug Information",className:"codicon codicon-link",href:ee+"/debug",$$slots:{default:[je]},$$scope:{ctx:s}}}),P=new ce({props:{title:"Rule34.xxx URL Comparison",className:"codicon codicon-link",href:ee+"/query",$$slots:{default:[Ee]},$$scope:{ctx:s}}}),{c(){e=_("meta"),n=C(),t=_("div"),V(l.$$.fragment),x=C(),V(o.$$.fragment),h=C(),f=_("section"),d=_("img"),G=C(),A=_("h2"),A.textContent=se,J=C(),I=_("span"),K=S("Version: "),Q=S(re),m.block.c(),X=C(),U=_("section"),V(k.$$.fragment),Y=C(),V(j.$$.fragment),Z=C(),E=_("section"),V(N.$$.fragment),y=C(),V(P.$$.fragment),this.h()},l(a){const r=fe("svelte-ktkf94",document.head);e=g(r,"META",{name:!0,content:!0}),r.forEach(i),n=w(a),t=g(a,"DIV",{class:!0});var u=O(t);q(l.$$.fragment,u),x=w(u),q(o.$$.fragment,u),h=w(u),f=g(u,"SECTION",{class:!0});var b=O(f);d=g(b,"IMG",{src:!0,alt:!0,class:!0}),G=w(b),A=g(b,"H2",{class:!0,"data-svelte-h":!0}),te(A)!=="svelte-1okuyk9"&&(A.textContent=se),J=w(b),I=g(b,"SPAN",{});var M=O(I);K=T(M,"Version: "),Q=T(M,re),m.block.l(M),M.forEach(i),b.forEach(i),X=w(u),U=g(u,"SECTION",{class:!0});var L=O(U);q(k.$$.fragment,L),L.forEach(i),Y=w(u),q(j.$$.fragment,u),Z=w(u),E=g(u,"SECTION",{class:!0});var R=O(E);q(N.$$.fragment,R),y=w(R),q(P.$$.fragment,R),R.forEach(i),u.forEach(i),this.h()},h(){document.title="kurosearch - About",$(e,"name","description"),$(e,"content","Further information about the website can be found here."),me(d.src,ne=ee+"/favicon.svg")||$(d,"src",ne),$(d,"alt","kuroseach logo"),$(d,"class","svelte-1jsrvde"),$(A,"class","svelte-1jsrvde"),$(f,"class","info svelte-1jsrvde"),$(U,"class","update svelte-1jsrvde"),$(E,"class","more svelte-1jsrvde"),$(t,"class","svelte-1jsrvde")},m(a,r){c(document.head,e),v(a,n,r),v(a,t,r),D(l,t,null),c(t,x),D(o,t,null),c(t,h),c(t,f),c(f,d),c(f,G),c(f,A),c(f,J),c(f,I),c(I,K),c(I,Q),m.block.m(I,m.anchor=null),m.mount=()=>I,m.anchor=null,c(t,X),c(t,U),D(k,U,null),c(t,Y),D(j,t,null),c(t,Z),c(t,E),D(N,E,null),c(E,y),D(P,E,null),B=!0},p(a,[r]){s=a;const u={};r&16&&(u.$$scope={dirty:r,ctx:s}),l.$set(u);const b={};r&16&&(b.$$scope={dirty:r,ctx:s}),o.$set(b),m.ctx=s,r&2&&W!==(W=s[1])&&oe(W,m)||pe(m,s,r);const M={};r&17&&(M.$$scope={dirty:r,ctx:s}),k.$set(M);const L={};r&16&&(L.$$scope={dirty:r,ctx:s}),j.$set(L);const R={};r&16&&(R.$$scope={dirty:r,ctx:s}),N.$set(R);const ae={};r&16&&(ae.$$scope={dirty:r,ctx:s}),P.$set(ae)},i(a){B||(H(l.$$.fragment,a),H(o.$$.fragment,a),H(k.$$.fragment,a),H(j.$$.fragment,a),H(N.$$.fragment,a),H(P.$$.fragment,a),B=!0)},o(a){z(l.$$.fragment,a),z(o.$$.fragment,a),z(k.$$.fragment,a),z(j.$$.fragment,a),z(N.$$.fragment,a),z(P.$$.fragment,a),B=!1},d(a){a&&(i(n),i(t)),i(e),F(l),F(o),m.block.d(),m.token=null,m=null,F(k),F(j),F(N),F(P)}}}function Pe(s,e,n){let t="Update",l;const x=async()=>{if(n(0,t="Updating..."),"serviceWorker"in navigator){const o=await navigator.serviceWorker.getRegistrations();await Promise.all(o.map(h=>h.update()))}window.location.reload(!0),n(0,t="Done")};return $e(()=>{n(1,l=fetch("https://api.github.com/repos/kurozenzen/kurosearch/commits/main").then(o=>o.json()))}),[t,l,x]}class De extends he{constructor(e){super(),de(this,e,Pe,Ne,ue,{})}}export{De as component};
